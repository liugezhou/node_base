## 一个完整的基于Node.js的web应用

### "Hello World
> 好了，“废话”不多说了，马上开始我们第一个Node.js应用：“Hello World”。

> 打开你最喜欢的编辑器，创建一个helloworld.js文件。我们要做就是向STDOUT输出“Hello World”，如下是实现该功能的代码：

> console.log("Hello World");

> 保存该文件，并通过Node.js来执行：

> node helloworld.js

> 正常的话，就会在终端输出Hello World 。

> 好吧，我承认这个应用是有点无趣，那么下面我们就来点“干货”。

### 用例
> 我们来把目标设定得简单点，不过也要够实际才行：    
> + 用户可以通过浏览器使用我们的应用。  
> + 当用户请求http://domain/start时，可以看到一个欢迎页面，页面上有一个文件上传的表单。 
> + 用户可以选择一个图片并提交表单，随后文件将被上传到http://domain/upload，该页面完成上传后会把图片显示在页面上。  

> 差不多了，你现在也可以去Google一下，找点东西乱搞一下来完成功能。但是我们现在先不做这个。

> 更进一步地说，在完成这一目标的过程中，我们不仅仅需要基础的代码而不管代码是否优雅。我们还要对此进行抽象，来寻找一种适合构建更为复杂的Node.js应用的方式。

### 应用不同模块分析
> 我们来分解一下这个应用，为了实现上文的用例，我们需要实现哪些部分呢？

> + 我们需要提供Web页面，因此需要一个HTTP服务器.    
> + 对于不同的请求，根据请求的URL，我们的服务器需要给予不同的响应，因此我们需要一个路由，用于把请求对应到请求处理程序（request handler）.    
> + 当请求被服务器接收并通过路由传递之后，需要可以对其进行处理，因此我们需要最终的请求处理程序  
> + 路由还应该能处理POST数据，并且把数据封装成更友好的格式传递给请求处理入程序，因此需要请求数据处理功能    
> + 我们不仅仅要处理URL对应的请求，还要把内容显示出来，这意味着我们需要一些视图逻辑供请求处理程序使用，以便将内容发送给用户的浏览器     
> + 最后，用户需要上传图片，所以我们需要上传处理功能来处理这方面的细节  

> 我们先来想想，使用PHP的话我们会怎么构建这个结构。一般来说我们会用一个Apache HTTP服务器并配上mod_php5模块。    
> 从这个角度看，整个“接收HTTP请求并提供Web页面”的需求根本不需要PHP来处理。

> 不过对Node.js来说，概念完全不一样了。使用Node.js时，我们不仅仅在实现一个应用，同时还实现了整个HTTP服务器。事实上，我们的Web应用以及对应的Web服务器基本上是一样的。

> 听起来好像有一大堆活要做，但随后我们会逐渐意识到，对Node.js来说这并不是什么麻烦的事。

> 现在我们就来开始实现之路，先从第一个部分--HTTP服务器着手。